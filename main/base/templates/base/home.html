{% extends 'main.html' %}

{% load static %}

{% block content %}
<div id="date-bar">
    
    <div id="month-selector">

        <div class="nav-arrow rotated">
            <img src="{% static 'base/nav-arrow.svg' %}" alt="icon" width="30px">
        </div>

        <div class="month-chip">

            <button id="main-month-button" onclick="toggle()">April</button>
            
            <div id="drop-down" class="hidden">

                <div class="month-chip">
        
                    <button>May</button>
        
                </div>
        
                <div class="month-chip">
        
                    <button>June</button>
        
                </div>
        
                <div class="month-chip">
        
                    <button>July</button>
        
                </div>

                <div class="month-chip">
        
                    <button>August</button>
        
                </div>

                <div class="month-chip">
        
                    <button>September</button>
        
                </div>

                <div class="month-chip">
        
                    <button>October</button>
        
                </div>

                <div class="month-chip">
        
                    <button>November</button>
        
                </div>

                <div class="month-chip">
        
                    <button>December</button>
        
                </div>

                <div class="month-chip">
        
                    <button>January</button>
        
                </div>

                <div class="month-chip">
        
                    <button>February</button>
        
                </div>

                <div class="month-chip">
        
                    <button>March</button>
        
                </div>
            </div>
          

        </div>
            
        


        <div class="nav-arrow">
            <img src="{% static 'base/nav-arrow.svg' %}" alt="icon" width="30px">
        </div>


    </div>

    <div id="year-selector">
        <button>2025</button>
    </div>
</div>
<div id="calendar-days" class="calendar-days-container">
    <!-- Days will be populated here -->
</div>


<script>
    const daysContainer = document.getElementById('calendar-days');
    const monthButtons = document.querySelectorAll('#drop-down .month-chip button');
    const mainMonthButton = document.getElementById('main-month-button');

    const currentYear = 2025;

    const monthNames = [
        "January", "February", "March", "April", "May", "June",
        "July", "August", "September", "October", "November", "December"
    ];

    function getDaysInMonth(monthIndex, year) {
        return new Date(year, monthIndex + 1, 0).getDate();
    }

    function populateDays(monthIndex) {
        daysContainer.innerHTML = ''; // Clear existing

        const totalDays = getDaysInMonth(monthIndex, currentYear);

        for (let i = 1; i <= totalDays; i++) {
            const dayEl = document.createElement('div');
            dayEl.classList.add('day');
            dayEl.textContent = i;
            daysContainer.appendChild(dayEl);
        }
    }

    // Attach click listeners to each month
    monthButtons.forEach((btn, index) => {
        btn.addEventListener('click', () => {
            mainMonthButton.textContent = monthNames[index];
            populateDays(index);
            document.getElementById('drop-down').classList.add('hidden');
        });
    });

    // Initial population (April)
    populateDays(3);  // April is index 3
</script>
{% endblock %}

